<!DOCTYPE html>
<html lang="pt-PT">
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PORTUGAL | Guild Top-Tier ‚Äì Where Winds Meet</title>
  <link rel="icon" type="image/png" href="images/logo_guild_--removebg-preview.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  

  <style>
    :root{
      --bg:#05070c;--bg-soft:#0c1220;--gold:#d6b15f;--gold-soft:rgba(214,177,95,.25);
      --text:#e5e7eb;--muted:#9ca3af;--accent:#7c3aed;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',sans-serif;background:radial-gradient(circle at top,#0f172a,var(--bg));color:var(--text)}

    nav{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(5,7,12,.8);backdrop-filter:blur(12px);display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;border-bottom:1px solid rgba(255,255,255,.05)}
    nav .logo{font-family:'Cinzel',serif;color:var(--gold);letter-spacing:3px;font-size:1.1rem}
    nav ul{display:flex;gap:1.2rem;list-style:none}
    nav a{text-decoration:none;color:var(--muted);font-size:.85rem}
    nav a:hover{color:var(--gold)}

      header {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
          padding: 7rem 1.5rem;
          /*background: linear-gradient(to bottom,rgba(0,0,0,.55),rgba(0,0,0,.95)),url() center/cover no-repeat*/
      }
          header h1 {
              font-family: 'Cinzel',serif;
              font-size: clamp(3.2rem,7vw,5.5rem);
              color: var(--gold);
              text-shadow: 0 0 40px var(--gold-soft)
          }

          header p {
              max-width: 760px;
              margin: 1.5rem auto 2.5rem;
              color: #d1d5db
          }

          .btn {
              padding: .9rem 2.2rem;
              border-radius: 999px;
              background: linear-gradient(135deg,var(--accent),#4c1d95);
              color: #fff;
              text-decoration: none;
              font-weight: 600;
              box-shadow: 0 12px 35px rgba(124,58,237,.35)
          }

          .center-btn {
              display: flex;
              justify-content: center;
              margin-top: 30px; /* opcional */
          }
          section {
              max-width: 1200px;
              margin: auto;
              padding: 5rem 1.5rem
          }

          h2 {
              font-family: 'Cinzel',serif;
              color: var(--gold);
              font-size: 2.3rem;
              margin-bottom: 1rem
          }

          section > p {
              color: var(--muted);
              max-width: 820px
          }

          .grid {
              display: grid;
              grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
              gap: 2rem;
              margin-top: 3rem
          }

          .card {
              background: linear-gradient(180deg,var(--bg-soft),#070b18);
              padding: 2rem;
              border-radius: 1.4rem;
              border: 1px solid rgba(255,255,255,.06)
          }
          /* PERFIL */
          .profile span {
              font-size: .7rem;
              color: var(--gold)
          }

          .profile ul {
              margin-top: .6rem;
              font-size: .85rem;
              color: var(--muted);
              list-style: none
          }
          /* RANKING */
          .ranking li {
              display: flex;
              justify-content: space-between;
              padding: .6rem 0;
              border-bottom: 1px solid rgba(255,255,255,.05)
          }
          /* AREA PRIVADA */
          .private {
              display: none
          }

              .private.active {
                  display: block
              }

          footer {
              background: #02040a;
              padding: 3rem 1.5rem;
              text-align: center;
              border-top: 1px solid rgba(255,255,255,.05)
          }

              footer p {
                  font-size: .85rem;
                  color: var(--muted)
              }
          /*VIDEO*/
          .video-bg {
              position: fixed;
              top: 0;
              left: 0;
              width: 100vw;
              height: 100vh;
              overflow: hidden;
              z-index: -2;
          }

              .video-bg video {
                  width: 100%;
                  height: 100%;
                  object-fit: cover;
              }
          /* gradiente por cima do v√≠deo */
          .overlay {
              position: fixed;
              top: 0;
              left: 0;
              width: 100vw;
              height: 100vh;
              background: linear-gradient( to bottom, rgba(0,0,0,.55), rgba(0,0,0,.95) );
              z-index: -1;
          }
          /* conte√∫do normal */
          .content {
              position: relative;
              z-index: 1;
          }
  </style>
</head>
<body>
    <div class="video-bg">
        <video autoplay muted loop playsinline>
            <source src="./images/trailer.mp4" type="video/mp4">
        </video>
    </div>

    <div class="overlay"></div>

    <nav>
        <div class="logo"> <img src="./images/logo_guild_--removebg-preview.png" style="width: 10%; height: 10%;"> PORTUGAL</div>
        <ul>

            <li><a href="#membros">Membros</a></li>
            <li><a href="#rankings">Rankings</a></li>
            <li><a href="#builds">Builds</a></li>
            <li><a href="#privado">√Årea Privada</a></li>
        </ul>
    </nav>

    <header>
        <div>
            <img src="./images/logo_guild_--removebg-preview.png" style="width: 50%; height: 50%;">
            <h1>PORTUGAL</h1>
            <p>Guild portuguesa em <strong>Where Winds Meet</strong>.  N√£o competimos ‚Äî dominamos.</p>
            <a href="https://discord.gg/J6PeXW7vHj" class="btn">Entrar no Quartel</a>
        </div>

    </header>
    <section id="membros">
        <h2>Membros</h2>
        <div class="grid" id="members"></div>
    </section>

        <section id="horarios">
            <h2>hor√°rios da guild</h2>
            <div class="grid" id="horarios"></div>
            <img src="./images/horarios guild.png" style="width: 60%; height: 60%;">
        </section>

        <section id="rankings">
            <h2>Rankings Internos</h2>
            <ul class="ranking" id="ranking"></ul>
        </section>

        <section id="builds">
            <h2>Builds Recomendadas</h2>
            <div class="grid" id="buildsGrid"></div>
        </section>

        <section id="privado">
            <h2>√Årea Privada (Login Discord)</h2>
            <p>Acesso exclusivo para membros da guild atrav√©s do Discord.</p>
            <br />
            <a href="https://discord.com/api/oauth2/authorize?client_id=SEU_CLIENT_ID&redirect_uri=SEU_REDIRECT_URI&response_type=token&scope=identify" class="btn">Login com Discord</a>

            <div class="private" id="privateArea">
                <div class="card">
                    <h3>√Årea Interna da Guild</h3>
                    <p id="userInfo">Autenticado com sucesso.</p>
                </div>
            </div>
        </section>

        <footer>
            <p>¬© Criada em NOV 2025 ‚Äî Guild PORTUGAL</p>
        </footer>

        <script>

            let mostrarTodosMembros = false;
            const LIMITE_MEMBROS = 6;

            const builds = [
                { classe: 'Bellstrike - Splendor', descricao: 'Melee/DPS ‚Äì S Tier' },
                { classe: 'Bellstrike - Umbra ', descricao: 'DPS ‚Äì S Tier' },
                { classe: 'Silkbind - Deluge', descricao: 'Healer ‚Äì S Tier Support' },
                { classe: 'Silkbind - Jade', descricao: ' DPS ‚Äì Ranged' },
                { classe: 'Bamboocut - Wind ', descricao: ' DPS ‚Äì Assasin' },
                { classe: 'Stonesplit - Might', descricao: 'Tank' }
            ];

 let members = [];

async function loadMembers() {
    try {
        const response = await fetch("https://docs.google.com/spreadsheets/d/1a6os1xPZSnQoVf7befYc6OhWWXMeznaX/export?format=csv");
        const data = await response.text();

        const rows = data.split("\n").slice(1); // remove cabe√ßalho

        members = rows
            .filter(row => row.trim() !== "")
            .map(row => {
                const [id, nome, rank, classe, arma, build, score, mastery] = row.split(",");

                return {
                    id: id?.trim(),
                    nome: nome?.trim(),
                    rank: rank?.trim(),
                    classe: classe?.trim(),
                    arma: arma?.trim(),
                    build: build?.trim(),
                    score: parseInt(score?.trim()) || 0,
                    mastery: mastery?.trim(),
                };
            });

        renderMembers();
        renderRanking();

    } catch (error) {
        console.error("Erro ao carregar membros:", error);
    }
}
          
            function renderMembers() {
                const membersDiv = document.getElementById('members');
                membersDiv.innerHTML = "";

                const lista = mostrarTodosMembros
                    ? members
                    : members.slice(0, LIMITE_MEMBROS);

                lista.forEach(m => {
                    membersDiv.innerHTML += `
        <a href="perfil.html#${m.id}" class="card profile">
            <span>${m.rank}</span>
            <h3>${m.nome}</h3>
            <ul>
                <li>Classe: ${m.classe}</li>
                <li>Arma: ${m.arma}</li>
                <li>Build: ${m.build}</li>
            </ul>
            <h3>Gear Score:${m.mastery}</h3>
        </a>`;
                });

                renderBotaoMembros();
            }

            function renderBotaoMembros() {
                const section = document.getElementById("membros");

                let botao = document.getElementById("toggleMembros");

                if (!botao) {
                    botao = document.createElement("button");
                    botao.id = "toggleMembros";
                    botao.className = "btn";
                    botao.style.marginTop = "30px";
                    section.appendChild(botao);
                }

                botao.textContent = mostrarTodosMembros
                    ? "Mostrar menos membros"
                    : "Mostrar mais membros";

                botao.onclick = () => {
                    mostrarTodosMembros = !mostrarTodosMembros;
                    renderMembers();
                };
            }

            function renderRanking() {
                const ranking = document.getElementById('ranking');
                ranking.innerHTML = "";

                members
                    .sort((a, b) => b.score - a.score)
                    .slice(0, 10)
                    .forEach((m, i) => {
                        ranking.innerHTML += `
            <li>
                <span>#${i + 1} ${m.nome}</span>
                <strong>${m.score}</strong>
            </li>`;
                    });
            }
            const buildsGrid = document.getElementById('buildsGrid');
            builds.forEach(b => {
                buildsGrid.innerHTML += `<div class="card"><h3>${b.classe}</h3><p>${b.descricao}</p></div>`;
            });

            function login() {
                document.getElementById('privateArea').classList.add('active');
            }


            loadMembers();

          //js discord

          const CLIENT_ID = "1471459203557359657";
const REDIRECT_URI = "https://portugalwwm.github.io/PORTUGAL/";

const loginBtn = document.getElementById("discord-login");
const privateArea = document.getElementById("private-area");
const authSection = document.getElementById("auth-section");
const logoutBtn = document.getElementById("logout");

loginBtn.onclick = () => {
    const url = `https://discord.com/api/oauth2/authorize?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&response_type=token&scope=identify`;
    window.location.href = url;
};

window.onload = () => {
    if (window.location.hash.includes("access_token")) {
        const params = new URLSearchParams(window.location.hash.substring(1));
        const token = params.get("access_token");
        localStorage.setItem("discord_token", token);
        window.location.hash = "";
    }

    const savedToken = localStorage.getItem("discord_token");
    if (savedToken) {
        verificarUsuario(savedToken);
    }
};

async function verificarUsuario(token) {
    try {
        const response = await fetch("https://discord.com/api/users/@me", {
            headers: { Authorization: `Bearer ${token}` }
        });

        if (!response.ok) throw new Error();

        const user = await response.json();

        authSection.style.display = "none";
        privateArea.style.display = "block";

        privateArea.innerHTML = `
            <h2>√Årea Privada</h2>
            <p>Bem-vindo, ${user.username} üëë</p>
            <button id="logout" class="btn">Logout</button>
        `;

        document.getElementById("logout").onclick = logout;

    } catch {
        logout();
    }
}

function logout() {
    localStorage.removeItem("discord_token");
    location.reload();
}
        </script>

</body>
</html>









