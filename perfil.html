<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perfil do Membro | PORTUGAL</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
        body {
            margin: 0;
            font-family: 'Inter',sans-serif;
            background: radial-gradient(circle at top,#0f172a,#05070c);
            color: #e5e7eb
        }

        header {
            text-align: center;
            padding: 5rem 1.5rem
        }

        h1 {
            font-family: 'Cinzel',serif;
            color: #d6b15f;
            font-size: 3rem
        }
        .perfil-container {
    display: flex;
    justify-content: center;
    margin-top: 60px;
}
.perfil-card {
    background: linear-gradient(180deg,#0c1220,#070b18);
    padding: 3rem;
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,.08);
    text-align: center;
    max-width: 600px;
    margin: auto;
}

.perfil-avatar {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #d6b15f;
    box-shadow: 0 0 25px rgba(214,177,95,.5);
    margin-bottom: 1rem;
}

.rank {
    display: block;
    color: #d6b15f;
    margin-top: .3rem;
    font-size: .9rem;
}

.perfil-info {
    margin-top: 2rem;
    text-align: left;
}
        
.perfil-card {
    background: rgba(0,0,0,0.8);
    padding: 40px;
    border-radius: 15px;
    width: 400px;
    text-align: center;
    box-shadow: 0 0 20px rgba(255,215,0,0.3);
}


        .card {
            max-width: 800px;
            margin: 2rem auto;
            background: linear-gradient(180deg,#0c1220,#070b18);
            padding: 2rem;
            border-radius: 1.5rem;
            border: 1px solid rgba(255,255,255,.08)
        }

        .tag {
            color: #d6b15f;
            font-size: .85rem
        }

        ul {
            list-style: none;
            padding: 0;
            margin-top: 1rem
        }

        li {
            margin-bottom: .5rem;
            color: #9ca3af
        }

        a {
            color: #7c3aed;
            text-decoration: none
        }
    </style>
</head>
<body>

<header>
    <h1>Perfil do Membro</h1>
</header>

<section id="perfil" class="perfil-container">
    <div id="perfil-content"></div>
</section>

<script>
    // PERFIL.JS
const SHEET_URL = "https://docs.google.com/spreadsheets/d/116Qoa8HD_iOYKIw61rdX0D6wkaoNU0cFsBAPEOGEO5U/export?format=csv";

async function carregarPerfil() {
    // LER O ID DO HASH
    const hash = window.location.hash;
    const id = hash ? hash.substring(1) : null;

    if (!id) {
        document.getElementById("perfil-content").innerHTML = "<p>Membro não encontrado (sem ID)</p>";
        return;
    }

    // BUSCA A SHEET
    const response = await fetch(SHEET_URL);
    const text = await response.text();

    const rows = text.trim().split("\n").slice(1);

    const members = rows.map(row => {
    const cols = row.split(",");

        return {
            id: cols[0].trim(),
            nome: cols[1].trim(),
            rank: cols[2].trim(),
            classe: cols[3].trim(),
            arma: cols[4].trim(),
            build: cols[5].trim(),
            score: cols[6].trim(),
            mastery: cols[7].trim(),
            foto: cols[8] ? cols[8].trim() : ""
            
        };
    });

    // COMPARAÇÃO IGNORANDO MAIÚSCULAS
    const membro = members.find(m => m.id.toLowerCase() === id.toLowerCase());

    if (!membro) {
        document.getElementById("perfil-content").innerHTML = "<p>Membro não encontrado (ID inválido)</p>";
        return;
    }

    // MOSTRAR O PERFIL
    document.getElementById("perfil-content").innerHTML = `
    <div class="perfil-card">
        <div class="perfil-header">
            <img src="${membro.foto || 'images/default-avatar.png'}" 
                 alt="${membro.nome}" 
                 class="perfil-avatar">
            <h2>${membro.nome}</h2>
            <span class="rank">${membro.rank}</span>
        </div>

        <div class="perfil-info">
            <p><strong>Classe:</strong> ${membro.classe}</p>
            <p><strong>Arma:</strong> ${membro.arma}</p>
            <p><strong>Build:</strong> ${membro.build}</p>
            <p><strong>Score:</strong> ${membro.score}</p>
            <p><strong>Mastery:</strong> ${membro.mastery}</p>
        </div>
    </div>
`;

}

carregarPerfil();

</script>
</body>
</html>

